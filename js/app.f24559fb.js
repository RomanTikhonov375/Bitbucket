(function(){"use strict";var e={5525:function(e,r,t){var o=t(9242),a=t(3396),l=t(4870),n=t(7139);const i=e=>((0,a.dD)("data-v-53760449"),e=e(),(0,a.Cn)(),e),d={class:"dropdown__text"},u=i((()=>(0,a._)("div",{class:"dropdown__text-arrow"},null,-1))),s={key:0,class:"dropdown__options-wrapper"},c=["onClick"],p={class:"dropdown__option-text"};var m={__name:"MySelect",props:{options:{type:Array,reqired:!0},modelValue:{default:null}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,i=(0,l.iH)(null),m=(0,l.iH)(null),v=r,_=e=>{i.value=e,v("update:modelValue",e)},f=(0,l.iH)(!1),w=e=>{m.value.contains(e.target)||(f.value=!1)};return(0,a.bv)((()=>{window.addEventListener("click",w)})),(0,a.Jd)((()=>{window.removeEventListener("click",w)})),(e,r)=>((0,a.wg)(),(0,a.iD)("div",{class:"dropdown",ref_key:"dropDown",ref:m,onClick:r[0]||(r[0]=e=>f.value=!f.value)},[(0,a._)("div",d,[(0,a.Uk)((0,n.zw)(t.modelValue.name||"По умолчанию"),1),u]),(0,a.Wm)(o.uT,{name:"slide-fade"},{default:(0,a.w5)((()=>[f.value?((0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.options,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{class:"dropdown__option",key:r,onClick:r=>_(e)},[(0,a._)("p",p,(0,n.zw)(e.name||e),1)],8,c)))),128))])):(0,a.kq)("",!0)])),_:1})],512))}},v=t(89);const _=(0,v.Z)(m,[["__scopeId","data-v-53760449"]]);var f=_;const w=e=>((0,a.dD)("data-v-e5b837e0"),e=e(),(0,a.Cn)(),e),g={class:"section__header-wrapper"},b=w((()=>(0,a._)("h1",{class:"section__header-title"},"Добавление товара",-1)));var y={__name:"MyHeader",props:{options:{type:Array}},setup(e){const r=e,t=(0,a.f3)("parrentSelectedOption");return(e,o)=>((0,a.wg)(),(0,a.iD)("div",g,[b,(0,a.Wm)(f,{options:r.options,modelValue:(0,l.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,l.dq)(t)?t.value=e:null)},null,8,["options","modelValue"])]))}};const U=(0,v.Z)(y,[["__scopeId","data-v-e5b837e0"]]);var S=U,h=t(4219),k=t(5420);const D={class:"product-order-form__input-wrapper"},V=["for"],C=(0,a._)("div",{class:"product-order-form__label-req"},null,-1),O=["type","id","placeholder","value"],$={inheritAttrs:!1};var I=Object.assign($,{__name:"MyInput",props:{modelValue:{default:null},v:{type:Object}},emits:["update:model-value"],setup(e,{emit:r}){const t=(0,a.l1)(),o=e,n=r;function i(e){n("update:model-value",e.target.value),o.v.$validate()}return(e,r)=>((0,a.wg)(),(0,a.iD)("li",D,[(0,a._)("label",{class:"product-order-form__form__input-label",for:(0,l.SU)(t).for},[(0,a.WI)(e.$slots,"default"),C],8,V),(0,a._)("input",{type:(0,l.SU)(t).type,class:"product-order-form__input",id:(0,l.SU)(t).for,placeholder:(0,l.SU)(t).placeholder,value:o.modelValue,onInput:i},null,40,O)]))}});const j=I;var x=j;const H=e=>((0,a.dD)("data-v-17689b68"),e=e(),(0,a.Cn)(),e),W={class:"product-order-form__input-wrapper"},q=["for"],z=H((()=>(0,a._)("div",{class:"product-order-form__label-req"},null,-1))),M=["value","id","placeholder"],T={inheritAttrs:!1};var Z=Object.assign(T,{__name:"MyTextarea",props:{modelValue:{default:null},v:{type:Object}},emits:["update:modelValue"],setup(e,{emit:r}){const t=(0,a.l1)(),o=e,n=r;function i(e){n("update:modelValue",e.target.value),o.v.$validate()}return(e,r)=>((0,a.wg)(),(0,a.iD)("li",W,[(0,a._)("label",{class:"product-order-form__form__input-label",for:(0,l.SU)(t).for},[(0,a.Uk)("Описание товара"),z],8,q),(0,a._)("textarea",{value:o.modelValue,class:"product-order-form__input product-order-form__textarea",id:(0,l.SU)(t).for,placeholder:(0,l.SU)(t).placeholder,onInput:i},null,40,M)]))}});const A=(0,v.Z)(Z,[["__scopeId","data-v-17689b68"]]);var Y=A;const J=["type","disabled"],K={inheritAttrs:!1};var P=Object.assign(K,{__name:"MyButton",setup(e){const r=(0,a.l1)();return(e,t)=>((0,a.wg)(),(0,a.iD)("button",{type:(0,l.SU)(r).type,class:"product-order-form__sbm-button",disabled:(0,l.SU)(r).disabled},(0,n.zw)((0,l.SU)(r).buttonText),9,J))}});const E=(0,v.Z)(P,[["__scopeId","data-v-98d34b4e"]]);var L=E;const N={class:"product-order-form__inputs-wrapper"};var R={__name:"MyForm",emits:["create"],setup(e,{emit:r}){const t=(0,l.qj)({imgUrl:"",title:"",description:"",price:""}),i={title:{required:k.C1},description:{required:k.C1},imgUrl:{required:k.C1,url:k.HQ},price:{required:k.C1}},d=r,u=(0,h.Xw)(i,t),s=async()=>{const e=await u.value.$validate(),r={...t};e?(r.id=Date.now(),d("create",r),t.imgUrl="",t.title="",t.price="",t.description="",u.value.$reset()):alert("Что то пошло не так")};return(e,r)=>((0,a.wg)(),(0,a.iD)("form",{class:"product-order-form",onSubmit:(0,o.iM)(s,["prevent"])},[(0,a._)("ul",N,[(0,a.Wm)((0,l.SU)(x),{modelValue:t.title,"onUpdate:modelValue":r[0]||(r[0]=e=>t.title=e),for:"product-name",type:"text",placeholder:"Введите наименование товара",v:(0,l.SU)(u).title},{default:(0,a.w5)((()=>[(0,a.Uk)(" Наименование товара")])),_:1},8,["modelValue","v"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(u).title.$errors,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"product-order-form__input-error",key:e.$uid},(0,n.zw)(e.$message),1)))),128)),(0,a.Wm)((0,l.SU)(Y),{modelValue:t.description,"onUpdate:modelValue":r[1]||(r[1]=e=>t.description=e),for:"product-description",placeholder:"Введите описание товара",v:(0,l.SU)(u).description},{default:(0,a.w5)((()=>[(0,a.Uk)("Описание товара")])),_:1},8,["modelValue","v"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(u).description.$errors,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"product-order-form__input-error",key:e.$uid},(0,n.zw)(e.$message),1)))),128)),(0,a.Wm)((0,l.SU)(x),{modelValue:t.imgUrl,"onUpdate:modelValue":r[2]||(r[2]=e=>t.imgUrl=e),for:"product-image-link",type:"text",placeholder:"Введите ссылку",v:(0,l.SU)(u).imgUrl},{default:(0,a.w5)((()=>[(0,a.Uk)("Ссылка на изображение товара")])),_:1},8,["modelValue","v"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(u).imgUrl.$errors,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"product-order-form__input-error",key:e.$uid},(0,n.zw)(e.$message),1)))),128)),(0,a.Wm)((0,l.SU)(x),{modelValue:t.price,"onUpdate:modelValue":r[3]||(r[3]=e=>t.price=e),for:"product-price",type:"numeric",placeholder:"Введите цену",v:(0,l.SU)(u).price},{default:(0,a.w5)((()=>[(0,a.Uk)("Цена товара ")])),_:1},8,["modelValue","v"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(u).price.$errors,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"product-order-form__input-error",key:e.$uid},(0,n.zw)(e.$message),1)))),128)),(0,a.Wm)((0,l.SU)(L),{disabled:(0,l.SU)(u).$invalid,type:"submit",buttonText:"Добавить товар"},null,8,["disabled"])])],32))}};const B=(0,v.Z)(R,[["__scopeId","data-v-675744c3"]]);var F=B;const Q={class:"product-card"},X=["src"],G={class:"product-card__title"},ee={class:"product-card__description"},re={class:"product-card__price"};var te={__name:"ProductCard",props:{card:{type:Object}},emits:"remove",setup(e,{emit:r}){const t=e,o=r;return(e,r)=>((0,a.wg)(),(0,a.iD)("li",Q,[(0,a._)("img",{class:"product-card__image",src:t.card.imgUrl},null,8,X),(0,a._)("h2",G,(0,n.zw)(t.card.title),1),(0,a._)("p",ee,(0,n.zw)(t.card.description),1),(0,a._)("p",re,(0,n.zw)(t.card.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))+" руб.",1),(0,a._)("button",{class:"product-card__trash",onClick:r[0]||(r[0]=e=>o("remove",t.card))},"Удалить")]))}};const oe=(0,v.Z)(te,[["__scopeId","data-v-2ee7cd3e"]]);var ae=oe;const le={class:"products-list"};var ne={__name:"CardsList",props:{productCards:{type:Array}},emits:"remove",setup(e,{emit:r}){const t=e,l=r;return(e,r)=>((0,a.wg)(),(0,a.iD)("ul",le,[(0,a.Wm)(o.W3,{name:"list"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.productCards,(e=>((0,a.wg)(),(0,a.j4)(ae,{class:"list-item",card:e,key:e.id,onRemove:r=>l("remove",e)},null,8,["card","onRemove"])))),128))])),_:1})]))}};const ie=(0,v.Z)(ne,[["__scopeId","data-v-0a53dcd6"]]);var de=ie;const ue=e=>((0,a.dD)("data-v-582e6f86"),e=e(),(0,a.Cn)(),e),se={class:"center popup"},ce=ue((()=>(0,a._)("div",{class:"popup__icon"},null,-1))),pe=ue((()=>(0,a._)("div",{class:"popup__title"}," Товар успешно добавлен! ",-1))),me=[ce,pe];function ve(e,r){return(0,a.wg)(),(0,a.iD)("div",se,me)}const _e={},fe=(0,v.Z)(_e,[["render",ve],["__scopeId","data-v-582e6f86"]]);var we=fe;const ge={class:"main"},be={class:"products","aria-label":"страница с товарами"};var ye={__name:"App",setup(e){const r=(0,l.iH)({});(0,a.JJ)("parrentSelectedOption",r);const t=(0,l.iH)([]);let n=(0,l.iH)(!1);const i=(0,l.iH)([{value:"title",name:"По наименованию"},{value:"price",name:"По цене ↑"},{value:"price",name:"По цене ↓"}]),d=e=>{n.value=!0,t?.value.push(e),setTimeout((()=>{n.value=!1}),1e3),localStorage.setItem("cards",JSON.stringify(t.value))},u=e=>{t.value=t.value.filter((r=>r.id!==e.id)),localStorage.setItem("cards",JSON.stringify(t.value))};return(0,a.YP)(r,(e=>{t.value.sort(((r,t)=>"По наименованию"===e.name?r[e.value]?.localeCompare(t[e.value]):"По цене ↓"===e.name?r[e.value]-t[e.value]:"По цене ↑"===e.name?t[e.value]-r[e.value]:void 0))})),(0,a.bv)((()=>{localStorage.getItem("cards")&&(t.value=JSON.parse(localStorage.getItem("cards")))})),(e,r)=>((0,a.wg)(),(0,a.iD)("main",ge,[(0,a.Wm)(S,{options:i.value},null,8,["options"]),(0,a._)("section",be,[(0,a.Wm)(F,{onCreate:d}),(0,a.Wm)(o.uT,{name:"fade"},{default:(0,a.w5)((()=>[(0,l.SU)(n)?((0,a.wg)(),(0,a.j4)(we,{key:0})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(de,{productCards:t.value,onRemove:u},null,8,["productCards"])])]))}};const Ue=ye;var Se=Ue;const he=(0,o.ri)(Se);he.mount("#app")}},r={};function t(o){var a=r[o];if(void 0!==a)return a.exports;var l=r[o]={exports:{}};return e[o].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(r,o,a,l){if(!o){var n=1/0;for(s=0;s<e.length;s++){o=e[s][0],a=e[s][1],l=e[s][2];for(var i=!0,d=0;d<o.length;d++)(!1&l||n>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[d])}))?o.splice(d--,1):(i=!1,l<n&&(n=l));if(i){e.splice(s--,1);var u=a();void 0!==u&&(r=u)}}return r}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,a,l]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var a,l,n=o[0],i=o[1],d=o[2],u=0;if(n.some((function(r){return 0!==e[r]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(d)var s=d(t)}for(r&&r(o);u<n.length;u++)l=n[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(s)},o=self["webpackChunkbitbucket"]=self["webpackChunkbitbucket"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5525)}));o=t.O(o)})();
//# sourceMappingURL=app.f24559fb.js.map